[gd_scene load_steps=13 format=2]

[ext_resource path="res://Assets/asset package custom/retro medieval 3d/Models/GLTF format/bricks.material" type="Material" id=1]
[ext_resource path="res://Entities/Wooden/WoodGolem.tscn" type="PackedScene" id=2]
[ext_resource path="res://Entities/Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://Tutorial.gd" type="Script" id=4]
[ext_resource path="res://Entities/InteractableObjects/KnifeKinematic.tscn" type="PackedScene" id=5]
[ext_resource path="res://Entities/Wooden/WoodGolemBase.tscn" type="PackedScene" id=6]
[ext_resource path="res://Entities/Wooden/ArmBase.tscn" type="PackedScene" id=7]
[ext_resource path="res://Assets/asset package custom/kenneyretrourban/Models/GLTF format/asphalt.material" type="Material" id=8]
[ext_resource path="res://Entities/Wooden/WallGear.tscn" type="PackedScene" id=9]
[ext_resource path="res://Entities/Wooden/GateBase.tscn" type="PackedScene" id=10]

[sub_resource type="CapsuleShape" id=1]
radius = 0.163404
height = 1.31347

[sub_resource type="BoxShape" id=2]
extents = Vector3( 2, 0.1, 0.3 )

[node name="Tutorial" type="Spatial"]
script = ExtResource( 4 )

[node name="Rooms" type="CSGCombiner" parent="."]
use_collision = true

[node name="FirstRoom" type="CSGCylinder" parent="Rooms"]
invert_faces = true
radius = 6.0
height = 5.0
sides = 6
material = ExtResource( 1 )

[node name="WoodGolem2" parent="Rooms/FirstRoom" instance=ExtResource( 6 )]
transform = Transform( 0.326341, -0.399519, 0.856671, 0.512047, 0.836516, 0.19506, -0.79455, 0.375, 0.477562, -2.69435, -2.1208, 4.75939 )

[node name="SpareArm" type="KinematicBody" parent="Rooms/FirstRoom"]
transform = Transform( 0.392401, -0.919794, 0, 0, 0, -1, 0.919794, 0.392401, 0, 0, -2.28012, 4.53718 )

[node name="ArmBase" parent="Rooms/FirstRoom/SpareArm" instance=ExtResource( 7 )]

[node name="CollisionShape" type="CollisionShape" parent="Rooms/FirstRoom/SpareArm"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.74411, 0 )
shape = SubResource( 1 )

[node name="WallGear" parent="Rooms/FirstRoom" instance=ExtResource( 9 )]
transform = Transform( 0.985429, -0.170089, 0, 0.170089, 0.985429, 0, 0, 0, 1, 2.40702, -1.75014, -5.08509 )

[node name="FirstHall" type="CSGBox" parent="Rooms"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0996002, -0.961474, -10.1015 )
invert_faces = true
width = 4.0
height = 3.0
depth = 10.0
material = ExtResource( 1 )

[node name="GateSpace" type="CSGBox" parent="Rooms/FirstHall"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.46201, 4.57046 )
invert_faces = true
width = 4.2
height = 6.5
depth = 0.4
material = ExtResource( 1 )

[node name="Gate" parent="Rooms/FirstHall/GateSpace" instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.47116, 0 )

[node name="Closed_stop" type="Area" parent="Rooms/FirstHall/GateSpace"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.12669, 0.0448127 )

[node name="CollisionShape" type="CollisionShape" parent="Rooms/FirstHall/GateSpace/Closed_stop"]
shape = SubResource( 2 )

[node name="Open_stop" type="Area" parent="Rooms/FirstHall/GateSpace"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.13363, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Rooms/FirstHall/GateSpace/Open_stop"]
shape = SubResource( 2 )

[node name="SecondHall" type="CSGBox" parent="Rooms"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.966957, -15.7944 )
invert_faces = true
width = 10.0
height = 3.0
depth = 4.0
material = ExtResource( 1 )

[node name="GolemChambertest" type="CSGCylinder" parent="Rooms/SecondHall"]
transform = Transform( 0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, -13.0393, 2.49429, 0 )
invert_faces = true
radius = 10.0
height = 10.3767
sides = 6
material = ExtResource( 1 )

[node name="Player" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.971287, 0 )

[node name="WoodGolem" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -16.3398, -0.364417, -17.4809 )

[node name="KnifeKinematic" parent="." instance=ExtResource( 5 )]
transform = Transform( -0.205641, 0.978628, 0, -0.978628, -0.205641, 0, 0, 0, 1, 2.02718, -1.85692, -5.02855 )

[node name="CSGBox" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10.9651, -2.66457, -10.9816 )
use_collision = true

[node name="CSGBox" type="CSGBox" parent="CSGBox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.00607, 0, 0 )
use_collision = true

[node name="CSGBox2" type="CSGBox" parent="CSGBox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.00607, 1.98372, 0 )
use_collision = true

[node name="Gearbox" type="CSGBox" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.42038, -2.37102, -5.07405 )
width = 1.0
height = 1.0
depth = 0.5
material = ExtResource( 1 )

[node name="CSGBox" type="CSGBox" parent="Gearbox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.362152, 0.0328765 )
operation = 2
width = 0.8
height = 0.3
depth = 0.3
material = ExtResource( 8 )

[node name="Gearbox2" type="CSGBox" parent="."]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.80387, -2.37102, -8.16046 )
width = 1.0
height = 1.0
depth = 0.5
material = ExtResource( 1 )

[node name="CSGBox" type="CSGBox" parent="Gearbox2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.362152, 0.0328765 )
operation = 2
width = 0.8
height = 0.3
depth = 0.3
material = ExtResource( 8 )

[node name="WallGear2" parent="Gearbox2" instance=ExtResource( 9 )]
transform = Transform( 0.985429, -0.170089, 0, 0.170089, 0.985429, 0, 0, 0, 1, -0.0133681, 0.620883, -0.0110359 )

[connection signal="lower" from="Rooms/FirstRoom/WallGear" to="Rooms/FirstHall/GateSpace/Gate" method="_on_WallGear_lower"]
[connection signal="raise" from="Rooms/FirstRoom/WallGear" to="Rooms/FirstHall/GateSpace/Gate" method="_on_WallGear_raise"]
[connection signal="sister" from="Rooms/FirstRoom/WallGear" to="Gearbox2/WallGear2" method="_on_WallGear_sister"]
[connection signal="stopped" from="Rooms/FirstHall/GateSpace/Gate" to="Rooms/FirstRoom/WallGear" method="_on_Gate_stopped"]
[connection signal="stopped" from="Rooms/FirstHall/GateSpace/Gate" to="Gearbox2/WallGear2" method="_on_Gate_stopped"]
[connection signal="body_entered" from="Rooms/FirstHall/GateSpace/Closed_stop" to="Rooms/FirstHall/GateSpace/Gate" method="_on_Closed_stop_body_entered"]
[connection signal="body_entered" from="Rooms/FirstHall/GateSpace/Open_stop" to="Rooms/FirstHall/GateSpace/Gate" method="_on_Open_stop_body_entered"]
[connection signal="jam" from="KnifeKinematic" to="Rooms/FirstRoom/WallGear" method="_on_KnifeKinematic_jam"]
[connection signal="knife_pickup" from="KnifeKinematic" to="Rooms/FirstRoom/WallGear" method="_on_KnifeKinematic_knife_pickup"]
[connection signal="lower" from="Gearbox2/WallGear2" to="Rooms/FirstHall/GateSpace/Gate" method="_on_WallGear_lower"]
[connection signal="raise" from="Gearbox2/WallGear2" to="Rooms/FirstHall/GateSpace/Gate" method="_on_WallGear_raise"]
[connection signal="sister" from="Gearbox2/WallGear2" to="Rooms/FirstRoom/WallGear" method="_on_WallGear2_sister"]
